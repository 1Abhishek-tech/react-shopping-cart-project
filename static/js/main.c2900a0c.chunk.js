(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{26:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var c=n(9),o=n.n(c),i=n(17),a=n.n(i),r=(n(26),n(18)),s=n(19),d=n(21),l=n(20),u=n(4),g={images:{width:110,height:110,borderRadius:4,backgroundColor:"#ccc"}},p=function(t){var e=t.product,n=e.img,c=e.qty,o=e.title,i=e.price,a=e.id,r=t.product,s=t.onIncreaseQuantity,d=t.onDecreaseQuantity,l=t.onDeleteProduct;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"left-block",children:Object(u.jsx)("img",{style:g.images,src:n})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsx)("div",{style:{fontSize:25},children:o}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Rs ",i," "]}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Qty : ",c]}),Object(u.jsxs)("div",{className:"cart-item-actions",children:[Object(u.jsx)("img",{alt:"increase ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992651.png",onClick:function(){return s(r)}}),Object(u.jsx)("img",{alt:"decrease ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992683.png",onClick:function(){return d(r)}}),Object(u.jsx)("img",{alt:"delete ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/1617/1617543.png",onClick:function(){l(o,a)}})]})]})]})},h=function(t){var e=t.products;return Object(u.jsx)("div",{className:"cart",children:e.map((function(e){return Object(u.jsx)(p,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},b={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#9bb5e9",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},f=function(t){return Object(u.jsx)("div",{style:b.nav,children:Object(u.jsxs)("div",{style:b.cartIconContainer,children:[Object(u.jsx)("img",{style:b.cartIcon,src:"https://image.flaticon.com/icons/png/512/726/726496.png ",alt:"cart-icon "}),Object(u.jsxs)("span",{style:b.cartCount,children:[" ",t.count]})]})})},j=n(11),y=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).handleIncreaseQuantity=function(e){console.log("Increase quantity of product ",e);var n=t.state.products,c=n.indexOf(e);t.db.collection("products").doc(n[c].id).update({qty:n[c].qty+1}).then((function(){console.log("Product updated ",n[c].title,"increased by 1")})).catch((function(t){console.log("Error is ",t)}))},t.handleDecreaseQuantity=function(e){console.log("Decrease Quantity of product ",e);var n=t.state.products,c=n.indexOf(e);0!==n[c].qty&&t.db.collection("products").doc(n[c].id).update({qty:n[c].qty-1}).then((function(){console.log("Product Updated ",n[c].title,"decreased by 1")})).catch((function(t){console.log("Error is ",t)}))},t.handleDeleteProduct=function(e,n){t.state.products;t.db.collection("products").doc(n).delete().then((function(){console.log(e,"removed from Cart")}))},t.getCartCount=function(){var e=0;return t.state.products.forEach((function(t){e+=t.qty})),e},t.getCartTotal=function(){var e=0;return t.state.products.forEach((function(t){return t.qty>0&&(e+=t.qty*t.price),""})),e},t.addProduct=function(){t.db.collection("products").add({img:"https://images-na.ssl-images-amazon.com/images/I/71KHkTS6aOL._UX625_.jpg",title:"Brand New Puma Shoes",price:500,qty:1}).then((function(t){console.log("Added Product is ",t)})).catch((function(t){console.log("Error ",t)}))},t.L2Hfilter=function(){t.db.collection("products").orderBy("price","asc").onSnapshot((function(e){var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))},t.H2Lfilter=function(){t.db.collection("products").orderBy("price","desc").onSnapshot((function(e){var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))},t.state={products:[],loading:!0},t.db=j.a.firestore(),t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").onSnapshot((function(e){console.log("snapshot"),e.docs.map((function(t){console.log(t.data())}));var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.loading;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,{count:this.getCartCount()}),Object(u.jsx)("button",{onClick:this.addProduct,style:{padding:20,fontWeight:"bold",color:"lightgrey",backgroundColor:"black",borderRadius:30},children:"Add a Product"}),Object(u.jsx)("button",{onClick:this.L2Hfilter,style:{padding:20,fontWeight:"bold",color:"lightgrey",backgroundColor:"black",borderRadius:30},children:"low to high"}),Object(u.jsx)("button",{onClick:this.H2Lfilter,style:{padding:20,fontWeight:"bold",color:"lightgrey",backgroundColor:"black",borderRadius:30},children:" high to low"}),Object(u.jsx)(h,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),n&&Object(u.jsx)("h1",{children:"Loading Products .."}),Object(u.jsxs)("div",{style:{fontWeight:"bold",paddingLeft:25},children:["Total : ",this.getCartTotal()]})]})}}]),n}(o.a.Component),m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),c(t),o(t),i(t),a(t)}))};n(33);j.a.initializeApp({apiKey:"AIzaSyAgfZx7nC4igBz8TFnDlzPE4DSz3RHNcV8",authDomain:"cart-f4687.firebaseapp.com",projectId:"cart-f4687",storageBucket:"cart-f4687.appspot.com",messagingSenderId:"182126516730",appId:"1:182126516730:web:a49dacbee94bb00fc22c43"}),a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),m()}},[[34,1,2]]]);
//# sourceMappingURL=main.c2900a0c.chunk.js.map