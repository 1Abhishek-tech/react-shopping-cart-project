(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{28:function(t,e,c){},37:function(t,e,c){"use strict";c.r(e);var n=c(9),o=c.n(n),i=c(19),a=c.n(i),r=(c(28),c(20)),s=c(21),d=c(23),l=c(22),u=c(4),p={images:{width:110,height:110,borderRadius:4,backgroundColor:"#ccc"}},h=function(t){var e=t.product,c=e.img,n=e.qty,o=e.title,i=e.price,a=e.id,r=t.product,s=t.onIncreaseQuantity,d=t.onDecreaseQuantity,l=t.onDeleteProduct;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"left-block",children:Object(u.jsx)("img",{style:p.images,src:c})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsx)("div",{style:{fontSize:25},children:o}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Rs ",i," "]}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Qty : ",n]}),Object(u.jsxs)("div",{className:"cart-item-actions",children:[Object(u.jsx)("img",{alt:"increase ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992651.png",onClick:function(){return s(r)}}),Object(u.jsx)("img",{alt:"decrease ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/992/992683.png",onClick:function(){return d(r)}}),Object(u.jsx)("img",{alt:"delete ",className:"action-icons",src:"https://image.flaticon.com/icons/png/512/1617/1617543.png",onClick:function(){l(o,a)}})]})]})]})},g=function(t){var e=t.products;return Object(u.jsx)("div",{className:"cart",children:e.map((function(e){return Object(u.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},f={cartIcon:{height:32,marginRight:20},nav:{height:70,position:"sticky",background:"#9bb5e9",display:"flex",justifyContent:"space-between",alignItems:"center"},header__welcome:{marginLeft:"10vw",fontWeight:"800",fontSize:"1.4rem",color:"grey"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},b=function(t){return Object(u.jsxs)("div",{style:f.nav,children:[Object(u.jsx)("div",{style:f.header__welcome,children:" Welcome to my Store"}),Object(u.jsxs)("div",{style:f.cartIconContainer,children:[Object(u.jsx)("img",{style:f.cartIcon,src:"https://image.flaticon.com/icons/png/512/726/726496.png ",alt:"cart-icon "}),Object(u.jsxs)("span",{style:f.cartCount,children:[" ",t.count]})]})]})},j=c(11),m=function(t){Object(d.a)(c,t);var e=Object(l.a)(c);function c(){var t;return Object(r.a)(this,c),(t=e.call(this)).handleIncreaseQuantity=function(e){console.log("Increase quantity of product ",e);var c=t.state.products,n=c.indexOf(e);t.db.collection("products").doc(c[n].id).update({qty:c[n].qty+1}).then((function(){console.log("Product updated ",c[n].title,"increased by 1")})).catch((function(t){console.log("Error is ",t)}))},t.handleDecreaseQuantity=function(e){console.log("Decrease Quantity of product ",e);var c=t.state.products,n=c.indexOf(e);0!==c[n].qty&&t.db.collection("products").doc(c[n].id).update({qty:c[n].qty-1}).then((function(){console.log("Product Updated ",c[n].title,"decreased by 1")})).catch((function(t){console.log("Error is ",t)}))},t.handleDeleteProduct=function(e,c){t.state.products;t.db.collection("products").doc(c).delete().then((function(){console.log(e,"removed from Cart")}))},t.getCartCount=function(){var e=0;return t.state.products.forEach((function(t){e+=t.qty})),e},t.getCartTotal=function(){var e=0;return t.state.products.forEach((function(t){return t.qty>0&&(e+=t.qty*t.price),""})),e},t.addProduct=function(){t.db.collection("products").add({img:"https://images-na.ssl-images-amazon.com/images/I/71KHkTS6aOL._UX625_.jpg",title:"Brand New Puma Shoes",price:500,qty:1}).then((function(t){console.log("Added Product is ",t)})).catch((function(t){console.log("Error ",t)}))},t.L2Hfilter=function(){t.db.collection("products").orderBy("price","asc").onSnapshot((function(e){var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))},t.H2Lfilter=function(){t.db.collection("products").orderBy("price","desc").onSnapshot((function(e){var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))},t.state={products:[],loading:!0},t.db=j.a.firestore(),t}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").onSnapshot((function(e){console.log("snapshot"),e.docs.map((function(t){console.log(t.data())}));var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,c=t.loading;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{count:this.getCartCount()}),Object(u.jsxs)("div",{className:"filter",children:[Object(u.jsx)("button",{onClick:this.addProduct,children:"Add a Product"}),Object(u.jsx)("button",{onClick:this.L2Hfilter,children:"low to high"}),Object(u.jsx)("button",{onClick:this.H2Lfilter,children:" high to low"})]}),Object(u.jsx)(g,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),c&&Object(u.jsx)("h1",{children:"Loading Products .."}),Object(u.jsxs)("div",{className:"total",children:["Amount to be Paid :",this.getCartTotal()," Rs"]})]})}}]),c}(o.a.Component),y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;c(t),n(t),o(t),i(t),a(t)}))};c(35),c(36);j.a.initializeApp({apiKey:"AIzaSyAgfZx7nC4igBz8TFnDlzPE4DSz3RHNcV8",authDomain:"cart-f4687.firebaseapp.com",projectId:"cart-f4687",storageBucket:"cart-f4687.appspot.com",messagingSenderId:"182126516730",appId:"1:182126516730:web:a49dacbee94bb00fc22c43",measurementId:"G-5YBGH3JM7Z"}),j.a.analytics(),a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),y()}},[[37,1,2]]]);
//# sourceMappingURL=main.ff3188ed.chunk.js.map